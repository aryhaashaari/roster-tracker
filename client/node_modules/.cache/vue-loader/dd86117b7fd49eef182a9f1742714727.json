{"remainingRequest":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Register.vue","mtime":1720775759700},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/babel-loader/lib/index.js","mtime":1719893886606},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js","mtime":1719893886593}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7cmVmfSBmcm9tICJ2dWUiOwppbXBvcnQge3N1cGFiYXNlfSBmcm9tICIuLi9zdXBhYmFzZS9pbml0LmpzIjsKaW1wb3J0IHt1c2VSb3V0ZXJ9IGZyb20gInZ1ZS1yb3V0ZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWdpc3RlciIsCiAgc2V0dXAoKSB7CiAgICAvLyBDcmVhdGUgZGF0YSAvIHZhcnMKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgY29uc3QgZW1haWwgPSByZWYobnVsbCk7CiAgICBjb25zdCBwYXNzd29yZCA9IHJlZihudWxsKTsKICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHJvbGUgPSByZWYobnVsbCk7CiAgICBjb25zdCBlcnJvck1zZyA9IHJlZihudWxsKTsKCiAgICAvLyBSZWdpc3RlciBmdW5jdGlvbgogICAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYygpID0+IHsKICAgICAgaWYocGFzc3dvcmQudmFsdWUgPT09IGNvbmZpcm1QYXNzd29yZC52YWx1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCB7ZXJyb3J9ID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JvbGUvcmVnaXN0ZXInLCB7CiAgICAgICAgICBlbWFpbDogZW1haWwudmFsdWUsCiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQudmFsdWUsCiAgICAgICAgICBjb2RlOiBjb2RlLnZhbHVlLAogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zdHsgZXJyb3IyIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7CiAgICAgICAgICAgIGVtYWlsOiBlbWFpbC52YWx1ZSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLAogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yOwogICAgICAgICAgcm91dGVyLnB1c2goeyBuYW1lOiAiTG9naW4ifSk7IAogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBlcnJvck1zZy52YWx1ZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgZXJyb3JNc2cudmFsdWUgPSBudWxsOwogICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgICB9CiAgICAgICAgcmV0dXJuOyAKICAgICAgfQogICAgICBlcnJvck1zZy52YWx1ZSA9ICJFcnJvcjogUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCI7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGVycm9yTXNnLnZhbHVlID0gbnVsbDsKICAgICAgfSwgNTAwMCk7CiAgICB9OwoKICAgIHJldHVybiB7ZW1haWwsIHBhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQsIHJvbGUsIGVycm9yTXNnLCByZWdpc3Rlcn07CiAgfSwKfTsK"},{"version":3,"sources":["/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Register.vue"],"names":[],"mappings":"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","file":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Register.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- Error Handling -->\n     <div v-if=\"errorMsg\" class=\"mb-10 p-4 rounded-md bg-light-grey\">\n      <p class=\"text-red-500\">{{ errorMsg }}</p>\n     </div>\n\n     <!-- Register -->\n      <form @submit.prevent=\"register\" class=\"p-8 flex flex-col bg-grey rounded-md shadow-lg\">\n        <h1 class=\"text-3xl text-black mb-4\">Register</h1>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"email\" class=\"mb-1 text-sm text-black\">Email</label>\n          <input type=\"text\" required class=\"p-2 text-black focus:outline-none\" id=\"email\" v-model=\"email\">\n        </div>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"password\" class=\"mb-1 text-sm text-black\">Password</label>\n          <input type=\"password\" required class=\"p-2 text-black focus:outline-none\" id=\"password\" v-model=\"password\">\n        </div>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"confirmPassword\" class=\"mb-1 text-sm text-black\">Confirm Password</label>\n          <input type=\"password\" required class=\"p-2 text-black focus:outline-none\" id=\"confirmPassword\" v-model=\"confirmPassword\">\n        </div>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"role\" class=\"mb-1 text-sm text-black\">Role</label>\n          <select type=\"text\" required @change=\"positionChange\" class=\"p-2 text-black focus:outline-none\" id=\"role\" v-model=\"code\">\n            <option>Select Role</option>\n            <option value=\"Coach\">Coach</option>\n            <option value=\"Player\">Player</option>\n          </select>\n        </div>\n\n        <button type=\"submit\" class=\"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-black duration-200 \n        border-solid border-2 border-transparent hover:border-black hover:bg-white hover:text-black\">Register</button>\n\n        <router-link class=\"text-sm mt-6 text-center\" :to=\"{name: 'Login'}\">\n          Already have an account? <span class=\"text-white\">Login</span>\n        </router-link>\n      </form>\n  </div>\n</template>\n\n<script>\nimport {ref} from \"vue\";\nimport {supabase} from \"../supabase/init.js\";\nimport {useRouter} from \"vue-router\";\n\nexport default {\n  name: \"register\",\n  setup() {\n    // Create data / vars\n    const router = useRouter();\n    const email = ref(null);\n    const password = ref(null);\n    const confirmPassword = ref(null);\n    const role = ref(null);\n    const errorMsg = ref(null);\n\n    // Register function\n    const register = async() => {\n      if(password.value === confirmPassword.value) {\n        try {\n          const {error} = await axios.post('http://localhost:8080/role/register', {\n          email: email.value,\n          password: password.value,\n          code: code.value,\n          });\n          const{ error2 } = await supabase.auth.signUp({\n            email: email.value,\n            password: password.value,\n          });\n          if (error) throw error;\n          router.push({ name: \"Login\"}); \n        } catch (error) {\n          errorMsg.value = error.message;\n          setTimeout(() => {\n            errorMsg.value = null;\n          }, 5000);\n          }\n        return; \n      }\n      errorMsg.value = \"Error: Passwords do not match\";\n      setTimeout(() => {\n        errorMsg.value = null;\n      }, 5000);\n    };\n\n    return {email, password, confirmPassword, role, errorMsg, register};\n  },\n};\n</script>\n"]}]}