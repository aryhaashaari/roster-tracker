{"remainingRequest":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/babel-loader/lib/index.js!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue?vue&type=template&id=26084dc2","dependencies":[{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue","mtime":1720699451093},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/babel.config.js","mtime":1719893251388},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/babel-loader/lib/index.js","mtime":1719893886606},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1719893886786},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js","mtime":1719893886593}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibWF4LXctc2NyZWVuLXNtIG14LWF1dG8gcHgtNCBweS0xMCIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJtYi0xMCBwLTQgcm91bmRlZC1tZCBiZy1ncmV5Igp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidGV4dC1yZWQtNTAwIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAidGV4dC0zeGwgdGV4dC1ibGFjayBtYi00Igp9LCAiTG9naW4iLCAtMSAvKiBIT0lTVEVEICovKTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImZsZXggZmxleC1jb2wgbWItMiIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsKICBmb3I6ICJlbWFpbCIsCiAgY2xhc3M6ICJtYi0xIHRleHQtc20gdGV4dC1ibGFjayIKfSwgIkVtYWlsIiwgLTEgLyogSE9JU1RFRCAqLyk7CmNvbnN0IF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJmbGV4IGZsZXgtY29sIG1iLTIiCn07CmNvbnN0IF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7CiAgZm9yOiAicGFzc3dvcmQiLAogIGNsYXNzOiAibWItMSB0ZXh0LXNtIHRleHQtYmxhY2siCn0sICJQYXNzd29yZCIsIC0xIC8qIEhPSVNURUQgKi8pOwpjb25zdCBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICB0eXBlOiAic3VibWl0IiwKICBjbGFzczogIm10LTYgcHktMiBweC02IHJvdW5kZWQtc20gc2VsZi1zdGFydCB0ZXh0LXNtIHRleHQtd2hpdGUgYmctYmxhY2sgZHVyYXRpb24tMjAwIGJvcmRlci1zb2xpZCBib3JkZXItMiBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWJsYWNrIGhvdmVyOmJnLXdoaXRlIGhvdmVyOnRleHQtYmxhY2siCn0sICJMb2dpbiIsIC0xIC8qIEhPSVNURUQgKi8pOwpjb25zdCBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogIGNsYXNzOiAidGV4dC13aGl0ZSIKfSwgIlJlZ2lzdGVyIiwgLTEgLyogSE9JU1RFRCAqLyk7CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIgRXJyb3IgSGFuZGxpbmcgIiksICRzZXR1cC5lcnJvck1zZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfMywgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZXJyb3JNc2cpLCAxIC8qIFRFWFQgKi8pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgTG9naW4gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImZvcm0iLCB7CiAgICBvblN1Ym1pdDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJHNldHVwLmxvZ2luICYmICRzZXR1cC5sb2dpbiguLi5hcmdzKSwgWyJwcmV2ZW50Il0pKSwKICAgIGNsYXNzOiAicC04IGZsZXggZmxleC1jb2wgYmctZ3JleSByb3VuZGVkLW1kIHNoYWRvdy1sZyIKICB9LCBbX2hvaXN0ZWRfNCwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19ob2lzdGVkXzYsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIHJlcXVpcmVkOiAiIiwKICAgIGNsYXNzOiAicC0yIHRleHQtZ3JheS01MDAgZm9jdXM6b3V0bGluZS1ub25lIiwKICAgIGlkOiAiZW1haWwiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAkc2V0dXAuZW1haWwgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuZW1haWxdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19ob2lzdGVkXzgsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICByZXF1aXJlZDogIiIsCiAgICBjbGFzczogInAtMiB0ZXh0LWdyYXktNTAwIGZvY3VzOm91dGxpbmUtbm9uZSIsCiAgICBpZDogInBhc3N3b3JkIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gJHNldHVwLnBhc3N3b3JkID0gJGV2ZW50KQogIH0sIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnBhc3N3b3JkXV0pXSksIF9ob2lzdGVkXzksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICBjbGFzczogInRleHQtc20gbXQtNiB0ZXh0LWNlbnRlciIsCiAgICB0bzogewogICAgICBuYW1lOiAnUmVnaXN0ZXInCiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoIiBEb24ndCBoYXZlIGFuIGFjY291bnQ/ICIpLCBfaG9pc3RlZF8xMF0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KV0sIDMyIC8qIE5FRURfSFlEUkFUSU9OICovKV0pOwp9"},{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","errorMsg","_hoisted_2","_hoisted_3","_toDisplayString","onSubmit","_cache","_withModifiers","args","login","_hoisted_4","_hoisted_5","_hoisted_6","required","id","email","$event","_hoisted_7","_hoisted_8","password","_hoisted_9","_createVNode","_component_router_link","to","name","_hoisted_10"],"sources":["/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- Error Handling -->\n     <div v-if=\"errorMsg\" class=\"mb-10 p-4 rounded-md bg-grey\">\n      <p class=\"text-red-500\">{{ errorMsg }}</p>\n     </div>\n\n     <!-- Login -->\n      <form @submit.prevent=\"login\" class=\"p-8 flex flex-col bg-grey rounded-md shadow-lg\">\n        <h1 class=\"text-3xl text-black mb-4\">Login</h1>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"email\" class=\"mb-1 text-sm text-black\">Email</label>\n          <input type=\"text\" required class=\"p-2 text-gray-500 focus:outline-none\" id=\"email\" v-model=\"email\">\n        </div>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"password\" class=\"mb-1 text-sm text-black\">Password</label>\n          <input type=\"password\" required class=\"p-2 text-gray-500 focus:outline-none\" id=\"password\" v-model=\"password\">\n        </div>\n\n        <button type=\"submit\" class=\"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-black duration-200 \n        border-solid border-2 border-transparent hover:border-black hover:bg-white hover:text-black\">Login</button>\n\n        <router-link class=\"text-sm mt-6 text-center\" :to=\"{name: 'Register'}\">\n          Don't have an account? <span class=\"text-white\">Register</span>\n        </router-link>\n      </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/init\";\nimport { useRouter } from \"vue-router\";\nimport axios from 'axios';\nimport moment from 'moment';\nimport CryptoJS from 'crypto-js';\n\nexport default {\n  name: \"login\",\n  setup() {\n    // Create data / vars\n    const router = useRouter();\n    const email = ref(null);\n    const password = ref(null);\n    const errorMsg = ref(null);\n    var token = ref(null);\n\n    const generateTimestamp = () => {\n      return moment().format(\"YYYY-MM-DDTHH:mm:ssZ\");\n    };\n\n    const generateSignature = (timestamp, method, json_body_raw, x_api_key_id, x_api_key_secret) => {\n      if (json_body_raw && Object.keys(JSON.parse(json_body_raw)).length !== 0) {\n        json_body_raw = json_body_raw.replace(/\\n/g, \"\").replace(/\\\\/g, \"\").replace(/\\s/g, \"\");\n      } else {\n        json_body_raw = \"\";\n      }\n\n      const body_md5 = CryptoJS.MD5(json_body_raw).toString(CryptoJS.enc.Base64);\n      const hmac_signature = `${timestamp}:${x_api_key_id}:${method}:${body_md5}`;\n      const hmac = CryptoJS.HmacSHA256(hmac_signature, x_api_key_secret);\n      const hmac_base64 = hmac.toString(CryptoJS.enc.Base64);\n      let signature = `#${x_api_key_id}:#${hmac_base64}`;\n      return btoa(signature);\n    };\n\n\n    // Login function\n    const login = async() => {\n      try {\n        const {error} = await supabase.auth.signIn({\n          email: email.value,\n          password: password.value,\n        });\n        if (error) throw error;\n\n        // Generate timestamp and signature\n        const timestamp = generateTimestamp();\n        const method = 'GET'; // Assuming GET request\n        const json_body_raw = ''; // Assuming empty body for GET request\n        const x_api_key_id = 'your_api_key_id'; // Replace with actual API key ID\n        const x_api_key_secret = 'your_api_key_secret'; // Replace with actual API key secret\n        const signature = generateSignature(timestamp, method, json_body_raw, x_api_key_id, x_api_key_secret);\n\n        // Make GET request with axios\n        const response = await axios.get('https://your-api-endpoint.com', {\n          headers: {\n            'X-Api-Key-Id': x_api_key_id,\n            'Timestamp': timestamp,\n            'Signature': signature\n          }\n        });\n\n        token =  response.data.data.token\n        console.log('API response:', response.data);\n        router.push({name: \"Home\"});\n      } catch (error) {\n        errorMsg.value = `Error: ${error.message}`;\n        setTimeout(() => {\n        errorMsg.value = null;\n      }, 5000);\n      }\n\n  \n    }\n\n    return {token, email, password, errorMsg, login};\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAoC;;;EAEvBA,KAAK,EAAC;;;EACvBA,KAAK,EAAC;AAAc;gCAKrBC,mBAAA,CAA+C;EAA3CD,KAAK,EAAC;AAA0B,GAAC,OAAK;;EAErCA,KAAK,EAAC;AAAoB;gCAC7BC,mBAAA,CAAgE;EAAzDC,GAAG,EAAC,OAAO;EAACF,KAAK,EAAC;GAA0B,OAAK;;EAIrDA,KAAK,EAAC;AAAoB;gCAC7BC,mBAAA,CAAsE;EAA/DC,GAAG,EAAC,UAAU;EAACF,KAAK,EAAC;GAA0B,UAAQ;gCAIhEC,mBAAA,CAC2G;EADnGE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GACiE,OAAK;iCAGzEC,mBAAA,CAAwC;EAAlCD,KAAK,EAAC;AAAY,GAAC,UAAQ;;;uBAxBhEI,mBAAA,CA2BM,OA3BNC,UA2BM,GA1BJC,mBAAA,oBAAuB,EACXC,MAAA,CAAAC,QAAQ,I,cAAnBJ,mBAAA,CAEM,OAFNK,UAEM,GADLR,mBAAA,CAA0C,KAA1CS,UAA0C,EAAAC,gBAAA,CAAfJ,MAAA,CAAAC,QAAQ,iB,wCAGpCF,mBAAA,WAAc,EACbL,mBAAA,CAmBO;IAnBAW,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUR,MAAA,CAAAS,KAAA,IAAAT,MAAA,CAAAS,KAAA,IAAAD,IAAA,CAAK;IAAEf,KAAK,EAAC;MAClCiB,UAA+C,EAE/ChB,mBAAA,CAGM,OAHNiB,UAGM,GAFJC,UAAgE,E,gBAChElB,mBAAA,CAAoG;IAA7FE,IAAI,EAAC,MAAM;IAACiB,QAAQ,EAAR,EAAQ;IAACpB,KAAK,EAAC,sCAAsC;IAACqB,EAAE,EAAC,OAAO;+DAAUd,MAAA,CAAAe,KAAK,GAAAC,MAAA;iDAALhB,MAAA,CAAAe,KAAK,E,KAGpGrB,mBAAA,CAGM,OAHNuB,UAGM,GAFJC,UAAsE,E,gBACtExB,mBAAA,CAA8G;IAAvGE,IAAI,EAAC,UAAU;IAACiB,QAAQ,EAAR,EAAQ;IAACpB,KAAK,EAAC,sCAAsC;IAACqB,EAAE,EAAC,UAAU;+DAAUd,MAAA,CAAAmB,QAAQ,GAAAH,MAAA;iDAARhB,MAAA,CAAAmB,QAAQ,E,KAG9GC,UAC2G,EAE3GC,YAAA,CAEcC,sBAAA;IAFD7B,KAAK,EAAC,0BAA0B;IAAE8B,EAAE,EAAE;MAAAC,IAAA;IAAA;;sBAAoB,MAC9C,C,iBAD8C,0BAC9C,GAAAC,WAAwC,C","ignoreList":[]}]}