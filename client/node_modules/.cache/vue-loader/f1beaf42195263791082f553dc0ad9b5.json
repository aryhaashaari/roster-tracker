{"remainingRequest":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue?vue&type=template&id=26084dc2","dependencies":[{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue","mtime":1720699451093},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/babel-loader/lib/index.js","mtime":1719893886606},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1719893886786},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/cache-loader/dist/cjs.js","mtime":1719893886399},{"path":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/node_modules/vue-loader-v16/dist/index.js","mtime":1719893886593}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ibWF4LXctc2NyZWVuLXNtIG14LWF1dG8gcHgtNCBweS0xMCI+CiAgICA8IS0tIEVycm9yIEhhbmRsaW5nIC0tPgogICAgIDxkaXYgdi1pZj0iZXJyb3JNc2ciIGNsYXNzPSJtYi0xMCBwLTQgcm91bmRlZC1tZCBiZy1ncmV5Ij4KICAgICAgPHAgY2xhc3M9InRleHQtcmVkLTUwMCI+e3sgZXJyb3JNc2cgfX08L3A+CiAgICAgPC9kaXY+CgogICAgIDwhLS0gTG9naW4gLS0+CiAgICAgIDxmb3JtIEBzdWJtaXQucHJldmVudD0ibG9naW4iIGNsYXNzPSJwLTggZmxleCBmbGV4LWNvbCBiZy1ncmV5IHJvdW5kZWQtbWQgc2hhZG93LWxnIj4KICAgICAgICA8aDEgY2xhc3M9InRleHQtM3hsIHRleHQtYmxhY2sgbWItNCI+TG9naW48L2gxPgoKICAgICAgICA8ZGl2IGNsYXNzPSJmbGV4IGZsZXgtY29sIG1iLTIiPgogICAgICAgICAgPGxhYmVsIGZvcj0iZW1haWwiIGNsYXNzPSJtYi0xIHRleHQtc20gdGV4dC1ibGFjayI+RW1haWw8L2xhYmVsPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHJlcXVpcmVkIGNsYXNzPSJwLTIgdGV4dC1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUiIGlkPSJlbWFpbCIgdi1tb2RlbD0iZW1haWwiPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJmbGV4IGZsZXgtY29sIG1iLTIiPgogICAgICAgICAgPGxhYmVsIGZvcj0icGFzc3dvcmQiIGNsYXNzPSJtYi0xIHRleHQtc20gdGV4dC1ibGFjayI+UGFzc3dvcmQ8L2xhYmVsPgogICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiByZXF1aXJlZCBjbGFzcz0icC0yIHRleHQtZ3JheS01MDAgZm9jdXM6b3V0bGluZS1ub25lIiBpZD0icGFzc3dvcmQiIHYtbW9kZWw9InBhc3N3b3JkIj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJtdC02IHB5LTIgcHgtNiByb3VuZGVkLXNtIHNlbGYtc3RhcnQgdGV4dC1zbSB0ZXh0LXdoaXRlIGJnLWJsYWNrIGR1cmF0aW9uLTIwMCAKICAgICAgICBib3JkZXItc29saWQgYm9yZGVyLTIgYm9yZGVyLXRyYW5zcGFyZW50IGhvdmVyOmJvcmRlci1ibGFjayBob3ZlcjpiZy13aGl0ZSBob3Zlcjp0ZXh0LWJsYWNrIj5Mb2dpbjwvYnV0dG9uPgoKICAgICAgICA8cm91dGVyLWxpbmsgY2xhc3M9InRleHQtc20gbXQtNiB0ZXh0LWNlbnRlciIgOnRvPSJ7bmFtZTogJ1JlZ2lzdGVyJ30iPgogICAgICAgICAgRG9uJ3QgaGF2ZSBhbiBhY2NvdW50PyA8c3BhbiBjbGFzcz0idGV4dC13aGl0ZSI+UmVnaXN0ZXI8L3NwYW4+CiAgICAgICAgPC9yb3V0ZXItbGluaz4KICAgICAgPC9mb3JtPgogIDwvZGl2Pgo="},{"version":3,"sources":["/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1C,CAAC,CAAC,CAAC,CAAC,CAAC;;KAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAE9C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrG,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACrE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/G,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAE1G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/aryhaashaari/Documents/privy_internship/privypass-personal-project/client/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\n    <!-- Error Handling -->\n     <div v-if=\"errorMsg\" class=\"mb-10 p-4 rounded-md bg-grey\">\n      <p class=\"text-red-500\">{{ errorMsg }}</p>\n     </div>\n\n     <!-- Login -->\n      <form @submit.prevent=\"login\" class=\"p-8 flex flex-col bg-grey rounded-md shadow-lg\">\n        <h1 class=\"text-3xl text-black mb-4\">Login</h1>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"email\" class=\"mb-1 text-sm text-black\">Email</label>\n          <input type=\"text\" required class=\"p-2 text-gray-500 focus:outline-none\" id=\"email\" v-model=\"email\">\n        </div>\n\n        <div class=\"flex flex-col mb-2\">\n          <label for=\"password\" class=\"mb-1 text-sm text-black\">Password</label>\n          <input type=\"password\" required class=\"p-2 text-gray-500 focus:outline-none\" id=\"password\" v-model=\"password\">\n        </div>\n\n        <button type=\"submit\" class=\"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-black duration-200 \n        border-solid border-2 border-transparent hover:border-black hover:bg-white hover:text-black\">Login</button>\n\n        <router-link class=\"text-sm mt-6 text-center\" :to=\"{name: 'Register'}\">\n          Don't have an account? <span class=\"text-white\">Register</span>\n        </router-link>\n      </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { supabase } from \"../supabase/init\";\nimport { useRouter } from \"vue-router\";\nimport axios from 'axios';\nimport moment from 'moment';\nimport CryptoJS from 'crypto-js';\n\nexport default {\n  name: \"login\",\n  setup() {\n    // Create data / vars\n    const router = useRouter();\n    const email = ref(null);\n    const password = ref(null);\n    const errorMsg = ref(null);\n    var token = ref(null);\n\n    const generateTimestamp = () => {\n      return moment().format(\"YYYY-MM-DDTHH:mm:ssZ\");\n    };\n\n    const generateSignature = (timestamp, method, json_body_raw, x_api_key_id, x_api_key_secret) => {\n      if (json_body_raw && Object.keys(JSON.parse(json_body_raw)).length !== 0) {\n        json_body_raw = json_body_raw.replace(/\\n/g, \"\").replace(/\\\\/g, \"\").replace(/\\s/g, \"\");\n      } else {\n        json_body_raw = \"\";\n      }\n\n      const body_md5 = CryptoJS.MD5(json_body_raw).toString(CryptoJS.enc.Base64);\n      const hmac_signature = `${timestamp}:${x_api_key_id}:${method}:${body_md5}`;\n      const hmac = CryptoJS.HmacSHA256(hmac_signature, x_api_key_secret);\n      const hmac_base64 = hmac.toString(CryptoJS.enc.Base64);\n      let signature = `#${x_api_key_id}:#${hmac_base64}`;\n      return btoa(signature);\n    };\n\n\n    // Login function\n    const login = async() => {\n      try {\n        const {error} = await supabase.auth.signIn({\n          email: email.value,\n          password: password.value,\n        });\n        if (error) throw error;\n\n        // Generate timestamp and signature\n        const timestamp = generateTimestamp();\n        const method = 'GET'; // Assuming GET request\n        const json_body_raw = ''; // Assuming empty body for GET request\n        const x_api_key_id = 'your_api_key_id'; // Replace with actual API key ID\n        const x_api_key_secret = 'your_api_key_secret'; // Replace with actual API key secret\n        const signature = generateSignature(timestamp, method, json_body_raw, x_api_key_id, x_api_key_secret);\n\n        // Make GET request with axios\n        const response = await axios.get('https://your-api-endpoint.com', {\n          headers: {\n            'X-Api-Key-Id': x_api_key_id,\n            'Timestamp': timestamp,\n            'Signature': signature\n          }\n        });\n\n        token =  response.data.data.token\n        console.log('API response:', response.data);\n        router.push({name: \"Home\"});\n      } catch (error) {\n        errorMsg.value = `Error: ${error.message}`;\n        setTimeout(() => {\n        errorMsg.value = null;\n      }, 5000);\n      }\n\n  \n    }\n\n    return {token, email, password, errorMsg, login};\n  },\n};\n</script>\n"]}]}